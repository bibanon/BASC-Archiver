<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.12: http://docutils.sourceforge.net/" />
<title></title>
<style type="text/css">

/*
:Author: David Goodger (goodger@python.org)
:Id: $Id: html4css1.css 7614 2013-02-21 15:55:51Z milde $
:Copyright: This stylesheet has been placed in the public domain.

Default cascading style sheet for the HTML output of Docutils.

See http://docutils.sf.net/docs/howto/html-stylesheets.html for how to
customize this style sheet.
*/

/* used to remove borders from tables and images */
.borderless, table.borderless td, table.borderless th {
  border: 0 }

table.borderless td, table.borderless th {
  /* Override padding for "table.docutils td" with "! important".
     The right padding separates the table cells. */
  padding: 0 0.5em 0 0 ! important }

.first {
  /* Override more specific margin styles with "! important". */
  margin-top: 0 ! important }

.last, .with-subtitle {
  margin-bottom: 0 ! important }

.hidden {
  display: none }

a.toc-backref {
  text-decoration: none ;
  color: black }

blockquote.epigraph {
  margin: 2em 5em ; }

dl.docutils dd {
  margin-bottom: 0.5em }

object[type="image/svg+xml"], object[type="application/x-shockwave-flash"] {
  overflow: hidden;
}

/* Uncomment (and remove this text!) to get bold-faced definition list terms
dl.docutils dt {
  font-weight: bold }
*/

div.abstract {
  margin: 2em 5em }

div.abstract p.topic-title {
  font-weight: bold ;
  text-align: center }

div.admonition, div.attention, div.caution, div.danger, div.error,
div.hint, div.important, div.note, div.tip, div.warning {
  margin: 2em ;
  border: medium outset ;
  padding: 1em }

div.admonition p.admonition-title, div.hint p.admonition-title,
div.important p.admonition-title, div.note p.admonition-title,
div.tip p.admonition-title {
  font-weight: bold ;
  font-family: sans-serif }

div.attention p.admonition-title, div.caution p.admonition-title,
div.danger p.admonition-title, div.error p.admonition-title,
div.warning p.admonition-title, .code .error {
  color: red ;
  font-weight: bold ;
  font-family: sans-serif }

/* Uncomment (and remove this text!) to get reduced vertical space in
   compound paragraphs.
div.compound .compound-first, div.compound .compound-middle {
  margin-bottom: 0.5em }

div.compound .compound-last, div.compound .compound-middle {
  margin-top: 0.5em }
*/

div.dedication {
  margin: 2em 5em ;
  text-align: center ;
  font-style: italic }

div.dedication p.topic-title {
  font-weight: bold ;
  font-style: normal }

div.figure {
  margin-left: 2em ;
  margin-right: 2em }

div.footer, div.header {
  clear: both;
  font-size: smaller }

div.line-block {
  display: block ;
  margin-top: 1em ;
  margin-bottom: 1em }

div.line-block div.line-block {
  margin-top: 0 ;
  margin-bottom: 0 ;
  margin-left: 1.5em }

div.sidebar {
  margin: 0 0 0.5em 1em ;
  border: medium outset ;
  padding: 1em ;
  background-color: #ffffee ;
  width: 40% ;
  float: right ;
  clear: right }

div.sidebar p.rubric {
  font-family: sans-serif ;
  font-size: medium }

div.system-messages {
  margin: 5em }

div.system-messages h1 {
  color: red }

div.system-message {
  border: medium outset ;
  padding: 1em }

div.system-message p.system-message-title {
  color: red ;
  font-weight: bold }

div.topic {
  margin: 2em }

h1.section-subtitle, h2.section-subtitle, h3.section-subtitle,
h4.section-subtitle, h5.section-subtitle, h6.section-subtitle {
  margin-top: 0.4em }

h1.title {
  text-align: center }

h2.subtitle {
  text-align: center }

hr.docutils {
  width: 75% }

img.align-left, .figure.align-left, object.align-left {
  clear: left ;
  float: left ;
  margin-right: 1em }

img.align-right, .figure.align-right, object.align-right {
  clear: right ;
  float: right ;
  margin-left: 1em }

img.align-center, .figure.align-center, object.align-center {
  display: block;
  margin-left: auto;
  margin-right: auto;
}

.align-left {
  text-align: left }

.align-center {
  clear: both ;
  text-align: center }

.align-right {
  text-align: right }

/* reset inner alignment in figures */
div.align-right {
  text-align: inherit }

/* div.align-center * { */
/*   text-align: left } */

ol.simple, ul.simple {
  margin-bottom: 1em }

ol.arabic {
  list-style: decimal }

ol.loweralpha {
  list-style: lower-alpha }

ol.upperalpha {
  list-style: upper-alpha }

ol.lowerroman {
  list-style: lower-roman }

ol.upperroman {
  list-style: upper-roman }

p.attribution {
  text-align: right ;
  margin-left: 50% }

p.caption {
  font-style: italic }

p.credits {
  font-style: italic ;
  font-size: smaller }

p.label {
  white-space: nowrap }

p.rubric {
  font-weight: bold ;
  font-size: larger ;
  color: maroon ;
  text-align: center }

p.sidebar-title {
  font-family: sans-serif ;
  font-weight: bold ;
  font-size: larger }

p.sidebar-subtitle {
  font-family: sans-serif ;
  font-weight: bold }

p.topic-title {
  font-weight: bold }

pre.address {
  margin-bottom: 0 ;
  margin-top: 0 ;
  font: inherit }

pre.literal-block, pre.doctest-block, pre.math, pre.code {
  margin-left: 2em ;
  margin-right: 2em }

pre.code .ln { color: grey; } /* line numbers */
pre.code, code { background-color: #eeeeee }
pre.code .comment, code .comment { color: #5C6576 }
pre.code .keyword, code .keyword { color: #3B0D06; font-weight: bold }
pre.code .literal.string, code .literal.string { color: #0C5404 }
pre.code .name.builtin, code .name.builtin { color: #352B84 }
pre.code .deleted, code .deleted { background-color: #DEB0A1}
pre.code .inserted, code .inserted { background-color: #A3D289}

span.classifier {
  font-family: sans-serif ;
  font-style: oblique }

span.classifier-delimiter {
  font-family: sans-serif ;
  font-weight: bold }

span.interpreted {
  font-family: sans-serif }

span.option {
  white-space: nowrap }

span.pre {
  white-space: pre }

span.problematic {
  color: red }

span.section-subtitle {
  /* font-size relative to parent (h1..h6 element) */
  font-size: 80% }

table.citation {
  border-left: solid 1px gray;
  margin-left: 1px }

table.docinfo {
  margin: 2em 4em }

table.docutils {
  margin-top: 0.5em ;
  margin-bottom: 0.5em }

table.footnote {
  border-left: solid 1px black;
  margin-left: 1px }

table.docutils td, table.docutils th,
table.docinfo td, table.docinfo th {
  padding-left: 0.5em ;
  padding-right: 0.5em ;
  vertical-align: top }

table.docutils th.field-name, table.docinfo th.docinfo-name {
  font-weight: bold ;
  text-align: left ;
  white-space: nowrap ;
  padding-left: 0 }

/* "booktabs" style (no vertical lines) */
table.docutils.booktabs {
  border: 0px;
  border-top: 2px solid;
  border-bottom: 2px solid;
  border-collapse: collapse;
}
table.docutils.booktabs * {
  border: 0px;
}
table.docutils.booktabs th {
  border-bottom: thin solid;
  text-align: left;
}

h1 tt.docutils, h2 tt.docutils, h3 tt.docutils,
h4 tt.docutils, h5 tt.docutils, h6 tt.docutils {
  font-size: 100% }

ul.auto-toc {
  list-style-type: none }

</style>
</head>
<body>
<div class="document">


<div class="section" id="chan-zip-file-format">
<h1>.chan.zip File Format</h1>
<div class="section" id="abstract">
<h2>Abstract</h2>
<p>This document specifies the <tt class="docutils literal">.chan.zip</tt> file extension. This format is designed to provide a simple, standard way to represent and transport archives of imageboard threads.</p>
<p>This format has been created primarily for 4chan threads, but aims to cleanly store threads from other decently compatible image boards (as well as from other imageboard archives themselves).</p>
</div>
<div class="section" id="status-of-this-document">
<h2>Status of This Document</h2>
<p>This is very much a draft reference, and is not recommended for production use. Because of the early nature of this draft, the version string is &quot;draft-01&quot;, the format of which will likely be changed for release.</p>
</div>
<div class="section" id="introduction">
<h2>Introduction</h2>
<p>Image boards have proved themselves important parts in the creation of internet culture. However, some of the primary image boards in use today have been founded on ephemerality. This leaves the job of archiving and saving content to third parties or to the users themselves.</p>
<p>Many completely seperate methods of archiving image board threads have been developed, from a user simply going to &quot;Save Page&quot; in their browser to complex scripts and programs designed for backing up content. Because each of these is independently developed, there has not been a standard way to browse or to transfer thread backups from one system to another.</p>
<p>With this format, we hope to create a standard way to store image board threads so that we can be able to, say, import threads from a bunch of different archives into a single, unified display and management system.</p>
<p>To start off with, we will be describing a standard manifest of thread information and a standard folder structure for archives. We do, however, want to also describe a standard way to store the topic and reply posts as well as any other information required to recreate the page from a basic template, further on.</p>
</div>
<div class="section" id="folder-structure">
<h2>Folder Structure</h2>
<p>This lays out the standard folder structure of an archived thread. The specific files and folders are described in-detail below.</p>
<p>This is a reference example of an archived thread:</p>
<pre class="literal-block">
/manifest.json
/index.html
/images
    /12345.jpg
    /23456.gif
/thumbs
    /12345.jpg
    /23456.jpg
/resources
    /css
        /embedded_file_a.css
        /embedded_file_b.css
    /embedded_file.js
    /favicon.png
/raw
    api.json
    raw_file_a.ext
    raw_file_b.ext
</pre>
<p>The <tt class="docutils literal">resources</tt> directory is optional, but should be included where the index.html links to external resources on the image board's website.</p>
<div class="section" id="manifest-json">
<h3>manifest.json</h3>
<p>The manifest file describes the metadata associated with the given image board thread. It includes a variety of details related to when the thread was created, archived, the site/board it was originally on and where it was archived from.</p>
<p>A typical <tt class="docutils literal">manifest.json</tt> file is laid out as such:</p>
<pre class="code json literal-block">
<span class="punctuation">{</span>
    <span class="error">'thread':</span> <span class="error">{</span>
        <span class="error">'title':</span> <span class="error">'Thread</span> <span class="error">Title',</span>
        <span class="error">'op':</span> <span class="error">{</span>
            <span class="error">'name':</span> <span class="error">'Some</span> <span class="error">Guy',</span>
            <span class="error">'email':</span> <span class="error">'a&#64;example.com'</span>
        <span class="punctuation">}</span><span class="error">,</span>
        <span class="error">'sticky':</span> <span class="keyword constant">true</span>
    <span class="error">}</span>
    <span class="error">'created':</span> <span class="punctuation">{</span>
        <span class="error">'site':</span> <span class="error">'4chan',</span>
        <span class="error">'board':</span> <span class="error">'etc',</span>
        <span class="error">'thread_id':</span> <span class="error">123123,</span>
        <span class="error">'datetime':</span> <span class="error">'2014-03-12</span> <span class="error">21:42:06',</span>
        <span class="error">'timestamp':</span> <span class="error">49732497592874,</span>
    <span class="punctuation">}</span><span class="error">,</span>
    <span class="error">'archived':</span> <span class="punctuation">{</span>
        <span class="error">'site':</span> <span class="error">'archive.moe',</span>
        <span class="error">'datetime':</span> <span class="error">'2014-05-17</span> <span class="error">14:24:53',</span>
        <span class="error">'timestamp':</span> <span class="error">9867378547236,</span>
    <span class="punctuation">}</span>
<span class="error">}</span>
</pre>
<p><strong>thread</strong></p>
<p>This contains information about the thread. Useful metadata which may be extracted at archive time.</p>
<ul>
<li><p class="first"><tt class="docutils literal">title</tt></p>
<blockquote>
<p>This contains the title of the given thread. It is a string, containing any characters necessary. This is auto-generated at archive time.</p>
</blockquote>
</li>
<li><p class="first"><tt class="docutils literal">op</tt></p>
<blockquote>
<p>This contains information about the posted who created the thread, if it exists, including the name and email address attached to the post. These are strings, containing any characters necessary. These are optional, and may be excluded if the information does not exist at archive time.</p>
</blockquote>
</li>
<li><p class="first"><tt class="docutils literal">sticky</tt></p>
<blockquote>
<p>This represents whether the post is a 'sticky' post. That is, whether the site management has 'stuck' it to the top of the image board. It may contain the value <tt class="docutils literal">true</tt> or <tt class="docutils literal">false</tt>, and is to be generated at archive time.</p>
</blockquote>
</li>
</ul>
<p><strong>created</strong></p>
<p>This lists the site the thread was created on, the board the thread was created on, the thread's ID and the datetime it was created.</p>
<p><strong>archived</strong></p>
<p>This lists the site the thread was archived from, as well as the time and date of archival. This key is primarily for archiving threads from other imageboard archival websites. For instance, <tt class="docutils literal">archive.moe</tt>, <tt class="docutils literal">4archive</tt>, and <tt class="docutils literal">4chandata</tt>. If the thread has been archived from a third-party service, the <tt class="docutils literal">site</tt> key must be different from the <tt class="docutils literal">site</tt> key in <strong>created</strong></p>
<p><strong>created/archived keys</strong></p>
<ul>
<li><p class="first"><tt class="docutils literal">site</tt></p>
<blockquote>
<p>This is a simplified representation of the site name and should be fairly easy to guess for most sites. This is usually the part of the domain name before the TLD. As an example, <tt class="docutils literal">4chan.org</tt> becomes <tt class="docutils literal">4chan</tt>. However, this may be whatever best represents the given site. It may contain numbers, lowercase letters, dots, dashes, and underscores. It may not contain spaces or any other character not mentioned.</p>
</blockquote>
</li>
<li><p class="first"><tt class="docutils literal">board</tt></p>
<blockquote>
<p>This represents the 'board' the thread was archived from. For instance, <tt class="docutils literal">/tg/</tt> would be represented as <tt class="docutils literal">tg</tt>, <tt class="docutils literal">/g/</tt> would be represented as <tt class="docutils literal">g</tt>. This is usually the url slug the board occupies. The first and last slashes are recommended to be removed from this. If an image board implements recursive sub-boards or other similar features, this is recommended to be represented with slashes in the board name, such as <tt class="docutils literal">tch/cmp</tt>. However, if the board does support slashes within board names, this should be represented as a list such as <tt class="docutils literal">['tch/cmp', 'g']</tt>. This may contain any characters necessary to represent the board, but is recommended to be lowercase letters, numbers, and dashes and underscores if required.</p>
</blockquote>
</li>
<li><p class="first"><tt class="docutils literal">thread_id</tt></p>
<blockquote>
<p>This is the id of the thread. Generally, this is the id of the topic post (OP), or the first post of the thread. This is an integer.</p>
</blockquote>
</li>
<li><p class="first"><tt class="docutils literal">datetime</tt></p>
<blockquote>
<p>This is a human-readable representation of the given time, taking the format <tt class="docutils literal"><span class="pre">YYYY-MM-DD</span> hh:mm:ss</tt>. This is recommended to be in Coordinated Universal Time (UTC).</p>
</blockquote>
</li>
<li><p class="first"><tt class="docutils literal">timestamp</tt></p>
<blockquote>
<p>This is a unix timestamp representing the given time. This is primarily a machine-readable representation, and is recommended to be in Coordinated Universal Time (UTC).</p>
</blockquote>
</li>
</ul>
</div>
<div class="section" id="index-html">
<h3>index.html</h3>
<p>This is a purely human-readable file. It is created at archive time, and is essentially a download of the thread HTML with resource URLs (pointing towards the original site) replaced with ones pointing towards our created <tt class="docutils literal">/resources/</tt> folder instead. If this is not possible to due the nature of the site, this should be created at archive time from something like a template –&nbsp;anything that lets users double-click this file and browse the thread from the archive folder.</p>
</div>
<div class="section" id="images">
<h3>images/</h3>
<p>This folder contains the original images posted in the thread. This folder may be excluded, but this is not recommended as it takes value away from the archive. Images in this folder will be named from the post ID followed by the file extension of the image.</p>
</div>
<div class="section" id="thumbs">
<h3>thumbs/</h3>
<p>This folder contains the original thumbnails posted in the thread. This folder must be included if possible. Images in this folder will be named by the post ID followed by the file extension of the image.</p>
</div>
<div class="section" id="resources">
<h3>resources/</h3>
<p>This folder contains resources linked by the <tt class="docutils literal">index.html</tt> file. This folder may have subdirectories. It is only recommended to create subdirectories if the created folder will have more than a single file. The recommended subdirectories include <tt class="docutils literal">css</tt>, <tt class="docutils literal">js</tt>, and <tt class="docutils literal">images</tt>. If the favicon is a single file, it should be put in the root <tt class="docutils literal">resources/</tt> directory as shown. If there are multiple favicon files, they should be put in a <tt class="docutils literal">resources/favicons/</tt> folder.</p>
</div>
<div class="section" id="raw">
<h3>raw/</h3>
<p>This folder is for storing files which may be of use and importance, but are not described in this specification. It is also for storing files which have been described, but are site-specific and do not have widespread enough adoption to warrant putting them in another location.</p>
<p><strong>List of files officially available under the raw/ directory</strong></p>
<ul class="simple">
<li><tt class="docutils literal">api.json</tt> (4chan)</li>
</ul>
</div>
</div>
</div>
<div class="section" id="unfinished">
<h1>Unfinished</h1>
<p>This specification is still in heavy development. It is not yet at an implementable stage.</p>
</div>
</div>
</body>
</html>
